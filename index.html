<!DOCTYPE html>
<html>
<head>
	<title>Detecting Coil</title>
	<meta name="generator" content="BBEdit 13.1" />
	<meta name=monetization content=$ilp.uphold.com/9fFrFUnJpwWA>
	

	<!--
		this is web directions payment pointer, just so it will work
		feel free to change to your own, or keep it here to stream us a few cents while you test :-)
	-->

</head>
<body>

<h1>About coil</h1>
<p>For more information on Coil, a way of receiving streamed micropayments, see the <a href="https://coil.com">Coil Website</a>.</p>

<h2>This page</h2>
<p>This page uses coil-monetizer.js to detect if Coil is supported by your browser, then report when streaming payment starts and stops</p>
<p><a href="https://github.com/webdirections/Coil-Monetization-JS">coil-monetizer.js</a> is a small MIT licensed JS library by <a href="https://twitter.com/johnallsopp">John Allsopp</a>/<a href="https://twitter.com/webdirections">Web Directions</a> that provides this functionality.</p>

<h2>Coil monetization status for this page</h2>
<form>
<ul>
	<li><label for="supported">Coil Supported: <output id="supported">No</output></label></li>
	<li><label for="paying">Currently Paying: <output id="paying">No</output></label></li>
</ul>

</form>
<script src="coil-monetizer.js"></script>
<!-- include   -->
<script>
	//this taps into coil-monetizer.js and reports on whether a page supports monetization, and 
	var coilDetection = {
		
		init: function() {
			if (coilMonetizer.supported) {
				document.querySelector("#supported").innerHTML = "Yes";
				coilMonetizer.startPayingHandler = coilDetection.startPaying;
				coilMonetizer.stopPayingHandler = coilDetection.startPaying;		
			}
		},
		
		startPaying: function() {
				document.querySelector("#paying").innerHTML = "Yes";
		},
		
		stopPaying: function() {
				document.querySelector("#paying").innerHTML = "No";
		}
	}
	
	window.addEventListener("DOMContentLoaded", coilDetection.init, false)
</script>
</body>
</html>
